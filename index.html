<!DOCTYPE html>
<html ng-app="gitleBook">
<head>
    <title>Bootstrap 101 Template</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap -->
    <link href="css/bootstrap.css" rel="stylesheet" media="screen">
    <!--Firebase JavaScript-->
    <script src='https://cdn.firebase.com/v0/firebase.js'></script>

    <!--AngularJS JavaScript -->
    <!--<script src="js/angular.min.js"></script>-->
    <script src="http://code.angularjs.org/1.0.6/angular.js"></script>
    <!--JavaScript plugins (requires jQuery) -->
    <script src="http://code.jquery.com/jquery.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.js"></script>
    <script src="js/angularFire.js" type="text/javascript"></script>

</head>
<body>
<h1>Gitle Book</h1>
<div class="col-5 well" ng-controller="BooksController">

    <ul class="nav navbar-nav">
        <li class="active"><a href="#">Register eBook</a></li>
        <li><a href="#">Browse eBooks</a></li>
        <li class="disabled"><a href="#">Search for eBooks</a></li>
    </ul><br><br><h3>Register eBook</h3>
    <form ng-submit="books.add(book)" class="form-horizontal">

        <label for="titleInput">Title:</label>
        <input ng-model="book.title" class="form-control" type='text' id='titleInput' placeholder='Title'> <br />
        <label for="authorInput">Author: </label>
        <input ng-model="book.author" class="form-control" type='text' id='authorInput' placeholder='Author'> <br>
        <label for="genreInput">Genre:</label>
        <input ng-model="book.genre" class="form-control" type='text' id='genreInput' placeholder='Genre'> <br>
        <label for="priceInput">Price:</label>
        <input ng-model="book.price" class="form-control" type='text' id='priceInput' placeholder='0.0$'> <br>
        <label for="ratingInput">Rating:</label>
        <input ng-model="book.rating" class="form-control" type='text' id='ratingInput' placeholder='1-6'> <br>
        <label for="ISBNInput">ISBN:</label>
        <input ng-model="book.isbn" class="form-control" type='text' id='ISBNInput' placeholder='ISBN'> <br>
        <input type="submit" id="submit" value="Register eBook">
    </form>
    <h3>List of eBooks</h3>
    <div >
        <ul>
            <li ng-repeat="book in books">{{ book.title }}</li>
        </ul>
    </div>
</div>

<script>
    var gitleBook = angular.module('gitleBook', ['firebase']);
//    var myDataRef = new Firebase('https://gitlebook.firebaseio.com/books/');
    gitleBook.controller('BooksController', ['$scope', 'angularFireCollection',
            function BooksController($scope, angularFireCollection) {
          var url = 'https://gitlebook.firebaseio.com/books/';
          $scope.books = angularFireCollection(url);

    }]);
//    var myDataRef = new Firebase('https://gitlebook.firebaseio.com/books/');
//
//    $('#ISBNInput').keypress(function (e) {
//        if (e.keyCode == 13) {
//            var title = $('#titleInput').val();
//            var author = $('#authorInput').val();
//            var genre = $('#genreInput').val();
//            var price = $('#priceInput').val();
//            var rating = $('#ratingInput').val();
//            var isbn = $('#ISBNInput').val();
//            myDataRef.push({title: title, author: author, genre: genre, price: price, rating: rating, isbn: isbn});
//            $('#ISBNInput').val('');
//        }
//    });

</script>



</body>
</html>